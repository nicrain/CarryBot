# Issues to create for CarryBot

以下是基于当前 TODO 列表和待办项的 Issue 草稿，你可以直接将这些内容复制到 GitHub 的“New issue”里，也可以让我代为创建（需要 GitHub 访问权限）。

---

## 1) 运行测试并修复失败
- **描述**: 在本地及 CI 上运行全部测试（`pytest`），修复测试中暴露的错误与不稳定点，直到测试在 CI 上通过。
- **建议标签**: `testing`, `bug`, `high-priority`
- **验收标准**:
  - CI 的 `pytest` 步骤在 `main` 分支上成功通过。
  - 相关问题已被修复并有单元测试覆盖。
- **优先级**: 高

---

## 2) 提交与推送现有测试与 CI 更改
- **描述**: 确保所有新增测试与 CI 配置正确提交和推送到仓库，并在合并后验证工作流执行情况。
- **建议标签**: `chore`, `ci`
- **验收标准**:
  - 所有更改在 `main` 分支上可见并通过 CI。

---

## 3) 增加更多关键函数单元测试
- **描述**: 为台阶检测核心逻辑增加单元测试，包括不同 ROI、边缘检测、动态阈值、时序平滑等行为在典型场景下的表现；构造边界条件（全 0 深度、噪声、异常帧）。
- **建议标签**: `testing`, `enhancement`
- **验收标准**:
  - 覆盖率显著提升，关键逻辑有单元测试验证。

---

## 4) 添加 `pre-commit` 和格式检查自动化
- **描述**: 引入 `pre-commit` 钩子，包含 `black`, `isort`, `flake8`，保证 PR 前的代码风格一致性并减少 CI 因风格失败的几率。
- **建议标签**: `devops`, `chore`
- **验收标准**:
  - `pre-commit` 配置存在并通过本地验证。

---

## 5) 可选：点云 RANSAC 地面拟合模块（高级特性）
- **描述**: 使用点云（由深度图和相机内参生成）做 RANSAC 平面拟合来更鲁棒地区分地面与台阶，作为可选的精确检测路径。
- **建议标签**: `feature`, `research`
- **验收标准**:
  - 新模块能在示例数据集上识别地面平面并提供改进的检测结果（有基准对比）。

---

你希望我把这份草稿自动转成 Issues（我可以使用 GitHub API，需要 `GITHUB_TOKEN`），还是现在把它保存在仓库中（已完成）并由你手动在 GitHub 上创建？
